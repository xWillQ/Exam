# План
1. Подключить `Guice` к проекту
2. Создать класс `ServletConfig`
3. Создать класс `HelloServlet`
   1. Переопределить метод `service` для вывода `hello world` (проверка работоспособности конфигурации)
4. В конфиге привязать `HelloServlet` к url `/hello`
5. Добавить `CharsetFilter` из предыдущего проекта
6. Создать enum `PhoneType`
   * Значения: `internal_cell`, `external_cell`, `home`, `emergency`
7. Создать классы `Department`, `Employee`, `Number` с полями отражающими схему данных
8. Подключить `Hibernate` и `h2` к проекту
9. Создать маппинг между доменными классами и сущностями в базе данных
10. Создать класс `HibernateProvider`
   * `get()` возвращает `sessionFactory`
11. Создать класс `DepartmentDao`
    1.  Заинжектить `HibernateProvider`
    2.  Создать метод `getDepartments()`
        * Возвращает `List<Department>` со всеми отделами
    3.  Создать метод `deleteDepartment(id)`
        * Удаляет отдел с указанным `id`
        * Всем сотрудникам этого отдела записывает `null` в поле `departmentId`
    4.  Создать метод `editDepartment(department)`
        * Находит в базе данных отдел с `id` совпадающим с переданным и заменяет его на переданный отдел
    5.  Создать метод `addDepartment(department)`
        * Добавляет полученный отдел в базу данных
12. Создать класс `EmployeeDao`
    1. Заинжектить `HibernateProvider`
    2. Создать метод `getEmployeesByDepartment(departmentId)`
       * Возвращает `List<Employee>` со всеми сотрудниками отдела
    3. Создать метод `deleteEmployee(id)`
       * Удаляет сотрудника с указанным `id` и все номера этого сотрудника
    4. Создать метод `editEmployee(employee)`
       * Находит в базе данных сотрудника с `id` совпадающим с переданным и заменяет его на переданного сотрудника 
    5. Создать метод `addEmployee(employee)`
       * Добавляет полученного сотрудника в базу данных
13. Создать класс `NumberDao`
    1. Заинжектить `HibernateProvider`
    2. Создать метод `getNumbersByEmployee(employeeId)`
       * Возвращает `List<Number>` со всеми номерами сотрудника
    3. Создать метод `deleteNumber(id)`
       * Удаляет номер с указанным `id`
    4. Создать метод `editNumber(number)`
       * Находит в базе данных номер с `id` совпадающим с переданным и заменяет его на переданный номер
    5. Создать метод `addNumber(number)`
       * Добавляет полученный номер в базу данных
14. Подключить `Flyway` к проекту
15. Написать миграции с тестовыми данными
16. Добавить миграции в `ServletConfig`
17. Подключить `Gson` к проекту
18. Создать `GsonProvider`
    * `get()` возвращает настроенный `Gson`
19. Создать классы `DepartmentServlet`, `EmployeeServlet` и `NumberServlet`
20. Заинжектить в созданные классы соответствующие дао и `GsonProvider`
21. В конфиге привязать созданные классы к url `/ajax/department`, `/ajax/employee` и `ajax/number` соответственно
22. Переопределить метод `DepartmentServlet.doGet()`
    1. Получить список отделов с помощью `dao.getDepartments()`
    2. Сериализовать список с помощью `Gson`
    3. Вернуть json с отделами в качестве ответа
23. Переопределить метод `EmployeeServlet.doGet()`
    1. Получить `departmentId` из запроса, если он отсутствует вернуть пустой json
    2. Получить список сотрудников с помощью `dao.getEmployeesByDepartment()`
    3. Сериализовать список с помощью `Gson`
    4. Вернуть json с сотрудниками в качестве ответа
24. Переопределить метод `NumberServlet.doGet()`
    1. Получить `employeeId` из запроса, если он отсутствует вернуть пустой json
    2. Получить список номеров с помощью `dao.getNumbersByEmployee()`
    3. Сериализовать список с помощью `Gson`
    4. Вернуть json с номерами в качестве ответа
25. Создать `index.html`
26. Добавить таблицу из предыдущего проекта, изменив необходимые переменные для соответствия данным


# Схема данных
### Отделы
| id  | title | number |
| --- | ----- | ------ |
|     |       |        |

### Сотрудники
| id  | name | departmentId |
| --- | ---- | ------------ |
|     |      |              |

### Номера
| id  | type | number | employeeId |
| --- | ---- | ------ | ---------- |
|     |      |        |            |
